<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Environment Check</title>
  <style>
    body { font-family: monospace; background: #1a1a1a; color: #0f0; padding: 20px; }
    .good { color: #0f0; }
    .bad { color: #f00; }
    pre { background: #000; padding: 15px; border: 1px solid #0f0; }
  </style>
</head>
<body>
<h1>ğŸ” Environment Variables Check</h1>
<pre id="output">Loading...</pre>
<script>
const out = document.getElementById('output');
const env = import.meta.env;

const useApi = env.VITE_USE_API;
const teamId = env.VITE_TEAM_ID;
const apiUrl = env.VITE_API_BASE_URL;
const secret = env.VITE_SESSION_SECRET;
const roles = env.VITE_ACTOR_ROLES;

const apiOk = useApi === 'true';
const teamOk = !!teamId;
const allOk = apiOk && teamOk;

out.innerHTML = `
<span class="${apiOk ? 'good' : 'bad'}">${apiOk ? 'âœ…' : 'âŒ'} VITE_USE_API: ${useApi || 'NOT SET'}</span>
<span class="${teamOk ? 'good' : 'bad'}">${teamOk ? 'âœ…' : 'âŒ'} VITE_TEAM_ID: ${teamId ? 'SET' : 'NOT SET'}</span>
<span class="good">VITE_API_BASE_URL: ${apiUrl || 'NOT SET'}</span>
<span class="${secret ? 'good' : 'bad'}">${secret ? 'âœ…' : 'âŒ'} VITE_SESSION_SECRET: ${secret ? 'SET' : 'NOT SET'}</span>
<span class="good">VITE_ACTOR_ROLES: ${roles || 'NOT SET'}</span>

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Build Info:
MODE: ${env.MODE}
PROD: ${env.PROD}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
<span class="${allOk ? 'good' : 'bad'}">
${allOk ? 'âœ…âœ…âœ… CONFIGURATION CORRECT!' : 'âŒ CONFIGURATION INCOMPLETE'}
${allOk ? 'App should use API mode (PostgreSQL)' : 'App will use localStorage mode'}
${allOk ? 'Action: Clear cache (Ctrl+Shift+R) and reload main app' : 'Action: Wait for new deployment (deploying now)'}
</span>
`;
</script>
</body>
</html>
